<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <title>Subash</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Minimal, user-first web experiences by Subash Baniya â€” Web Designer from Nepal." />
    <meta name="author" content="subashbaniyaa" />

    <!-- Open Graph -->
    <meta property="og:title" content="Subash Baniya â€” Web Designer" />
    <meta property="og:description" content="Minimal, user-first web experiences by Subash Baniya from Nepal." />
    <meta property="og:image" content="https://i.ibb.co/LZJ2mSn/343289968-588712253370684-7873689768227931771-n.jpg" />
    <meta property="og:url" content="https://subash-baniya.com.np/" />

    <link rel="icon" href="https://i.imgur.com/9GGNGm1.jpeg" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Roboto:wght@400&display=swap" rel="stylesheet" />

    <style>
      :root {
        --bg: #0f0f10;
        --text: #e9e9ec;
        --muted: #b7b8bf;
        --accent: #ffffff;
        --card: #17181c;
        --pill-active: #eaeaea;
        --shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        --radius: 18px;
        --transition: all 0.3s ease;
      }

      html,
      body {
        margin: 0;
        font-family: "Poppins", sans-serif;
        background: var(--bg);
        color: var(--text);
        height: 100vh;
        overflow: auto;
        display: flex;
        flex-direction: column;
        user-select: none;
        position: relative;
        z-index: 0;
      }

      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background: url("./assets/anime.jpg") no-repeat center center;
        background-size: cover;
        opacity: 0.2;
        z-index: -1;
      }

      a {
        color: #007bff;
        text-decoration: underline;
      }

      .wrap {
        max-width: 760px;
        margin: 0 auto;
        padding: 28px 20px;
        flex: 1;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
      }

      header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 20px;
      }

      .avatar {
        width: 45px;
        height: 45px;
        border-radius: 50%;
        overflow: hidden;
        flex-shrink: 0;
      }

      .avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        user-select: none;
        -webkit-user-drag: none;
        pointer-events: none;
      }

      .brand {
        font-size: 18px;
        font-weight: 600;
        color: var(--text);
        display: flex;
        align-items: center;
        gap: 6px;
      }

      .verified-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
      }

      .verified-badge svg {
        width: 100%;
        height: 100%;
      }

      main h1 {
        font-size: 22px;
        margin: 0 0 16px;
        line-height: 1.4;
      }

      .sub {
        font-weight: 700;
        font-size: 15px;
        margin-bottom: 12px;
        color: var(--accent);
      }

      .sakuna-image {
        display: flex;
        justify-content: center;
        align-items: center;
        margin: 20px 0;
      }

      .sakuna-image img {
        width: 150px;
        height: auto;
        user-select: none;
        -webkit-user-drag: none;
        pointer-events: none;
      }

      .quote-word {
        display: inline-block;
        cursor: pointer;
        transition: color 0.2s ease;
      }
      .quote-word:hover {
        color: #9e52b1;
      }

      .quote-author span {
        display: inline-block;
        cursor: pointer;
        transition: color 0.2s ease;
      }
      .quote-author span:hover {
        color: #9e52b1;
      }

      .quote-author {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        gap: 6px;
        font-size: 15px;
      }

      #refreshIcon.spin {
        animation: spin 0.6s linear;
      }

      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
  </head>
  <body>
    <div class="wrap">
      <header>
        <div class="avatar">
          <img src="/assets/eren.jpeg" alt="Profile picture of Subash Baniya" loading="lazy" />
        </div>
        <div class="brand">subashbaniyaa
          <span class="verified-badge" aria-label="Verified account">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48">
              <polygon fill="#42a5f5" points="29.62,3 33.053,8.308 39.367,8.624 39.686,14.937 44.997,18.367 42.116,23.995 45,29.62 39.692,33.053 39.376,39.367 33.063,39.686 29.633,44.997 24.005,42.116 18.38,45 14.947,39.692 8.633,39.376 8.314,33.063 3.003,29.633 5.884,24.005 3,18.38 8.308,14.947 8.624,8.633 14.937,8.314 18.367,3.003 23.995,5.884"></polygon>
              <polygon fill="#fff" points="21.396,31.255 14.899,24.76 17.021,22.639 21.428,27.046 30.996,17.772 33.084,19.926"></polygon>
            </svg>
          </span>
        </div>
      </header>

      <main>
        <p>Web Designer ðŸŒž<br> crafting minimal, user-first web experiences.</p>
        <p>
          <i class="fa-solid fa-globe" style="margin-right: 6px; font-size: 14px;"></i> Nepal
        </p>
        <p>
          <i class="fa-solid fa-envelope" style="margin-right: 6px; font-size: 14px;"></i>
          <a href="mailto:hello@subashbaniya.info.np">hello@subashbaniya.info.np</a>
        </p>
<br>
        <div class="sakuna-image">
          <img src="/assets/goku.gif" alt="Gif" loading="lazy" />
        </div>
<br>
        <section class="quote-card">
          <div class="card" id="cardContent">
            <h1>Loading...</h1>
          </div>
        </section>

        <p style="margin-top: 10px;">
          <i class="fa-solid fa-arrow-up-right-from-square" style="margin-right: 6px; font-size: 13px;"></i>
          <a href="/api">View Docs</a>
        </p>
      </main>
    </div>

    <script>
      const cardContent = document.getElementById("cardContent");

      async function fetchQuote() {
        try {
          const res = await fetch("/api");
          if (!res.ok) throw new Error("Failed to fetch API!");

          const data = await res.json();
          const quoteObj = data.find(item => item.quote);

          if (!quoteObj) throw new Error("No quote found!");

          return quoteObj;
        } catch (err) {
          console.error(err);
          return null;
        }
      }

      function wrapWords(text, className = "quote-word") {
        return text.split(" ").map(word => `<span class="${className}">${word}</span>`).join(" ");
      }

        function renderQuote(quoteObj) {
        if (!quoteObj) {
          cardContent.innerHTML = `
            <h1>Failed to load content.</h1>
          `;
          return;
        }

        const words = wrapWords(quoteObj.quote);
        const authorWords = wrapWords(`â€” ${quoteObj.character},`);
        const animeWords = wrapWords(`${quoteObj.anime}`);

        cardContent.innerHTML = `
          <h1>${words}</h1>
          <div class="sub quote-author">
            ${authorWords} ${animeWords}&nbsp;
            <i class="fa-solid fa-repeat" id="refreshIcon" title="Refresh Quote" style="color: #007bff; cursor: pointer;"></i>
          </div>
        `;

        const refreshIcon = document.getElementById("refreshIcon");
        refreshIcon.addEventListener("click", async () => {
          refreshIcon.classList.add("spin");
          const newQuote = await fetchQuote();
          renderQuote(newQuote);
          setTimeout(() => refreshIcon.classList.remove("spin"), 600);
        });
      }

      async function initQuote() {
        const quoteObj = await fetchQuote();
        renderQuote(quoteObj);
      }

      initQuote();
    </script>
  </body>
</html>